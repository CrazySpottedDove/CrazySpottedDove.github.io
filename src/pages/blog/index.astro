---
import AppLayout from "@layouts/AppLayout.astro";
import BlogCard from "@components/BlogCard.astro";
import Header from "@components/Header.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("blog")).sort(
	(a, _) => new Date() - new Date(a.data.pubDate),
);

const title = "CrazySpottedDove - Blog";
const description =
	"我不擅长写 Blog，这里写的东西基本都是自己看的。如果你对我很感兴趣，也可以随便看看。";
---

<AppLayout
	title={title}
	description={description}
>
	<Header title="Blog" />
	<p
		class="max-w-prose mb-10 font-normal dark:text-zinc-400 text-zinc-600 leading-relaxed"
	>
		{description}
	</p>
	<ul class="space-y-8">
		{
			posts.map((post) => (
				<BlogCard
					title={post.data.title}
					pubDate={post.data.pubDate}
					description={post.data.description}
					url={`/blog/${post.slug}/`}
					tags={post.data.tags}
				/>
			))
		}
	</ul>
</AppLayout>
